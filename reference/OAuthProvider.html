<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>OAuthProvider S7 class — OAuthProvider • shinyOAuth</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="OAuthProvider S7 class — OAuthProvider"><meta name="description" content="S7 class representing an OAuth 2.0 provider configuration.
Includes endpoints, OIDC settings, and various security options which
govern the OAuth and OIDC flows.
This is a low-level constructor intended for advanced use. Most users should
prefer the helper constructors oauth_provider() for generic OAuth 2.0
providers or oauth_provider_oidc() / oauth_provider_oidc_discover() for
OpenID Connect providers. Those helpers enable secure defaults based on the
presence of an issuer and available endpoints."><meta property="og:description" content="S7 class representing an OAuth 2.0 provider configuration.
Includes endpoints, OIDC settings, and various security options which
govern the OAuth and OIDC flows.
This is a low-level constructor intended for advanced use. Most users should
prefer the helper constructors oauth_provider() for generic OAuth 2.0
providers or oauth_provider_oidc() / oauth_provider_oidc_discover() for
OpenID Connect providers. Those helpers enable secure defaults based on the
presence of an issuer and available endpoints."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shinyOAuth</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/audit-logging.html">Audit logging and hooks</a></li>
    <li><a class="dropdown-item" href="../articles/authentication-flow.html">Authentication flow</a></li>
    <li><a class="dropdown-item" href="../articles/example-spotify.html">Example: Spotify login to display listening data</a></li>
    <li><a class="dropdown-item" href="../articles/usage.html">Usage</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lukakoning/shinyOAuth/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>OAuthProvider S7 class</h1>
      <small class="dont-index">Source: <a href="https://github.com/lukakoning/shinyOAuth/blob/master/R/classes__OAuthProvider.R" class="external-link"><code>R/classes__OAuthProvider.R</code></a></small>
      <div class="d-none name"><code>OAuthProvider.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>S7 class representing an OAuth 2.0 provider configuration.
Includes endpoints, OIDC settings, and various security options which
govern the OAuth and OIDC flows.</p>
<p>This is a low-level constructor intended for advanced use. Most users should
prefer the helper constructors <code><a href="oauth_provider.html">oauth_provider()</a></code> for generic OAuth 2.0
providers or <code><a href="oauth_provider_oidc.html">oauth_provider_oidc()</a></code> / <code><a href="oauth_provider_oidc_discover.html">oauth_provider_oidc_discover()</a></code> for
OpenID Connect providers. Those helpers enable secure defaults based on the
presence of an issuer and available endpoints.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">OAuthProvider</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  auth_url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  token_url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  userinfo_url <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  introspection_url <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  issuer <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  use_nonce <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_pkce <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  pkce_method <span class="op">=</span> <span class="st">"S256"</span>,</span>
<span>  userinfo_required <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  userinfo_id_selector <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">userinfo</span><span class="op">)</span> <span class="va">userinfo</span><span class="op">$</span><span class="va">sub</span>,</span>
<span>  userinfo_id_token_match <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  id_token_required <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  id_token_validation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  extra_auth_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  extra_token_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  extra_token_headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  token_auth_style <span class="op">=</span> <span class="st">"header"</span>,</span>
<span>  jwks_cache <span class="op">=</span> <span class="fu">cachem</span><span class="fu">::</span><span class="fu"><a href="https://cachem.r-lib.org/reference/cache_mem.html" class="external-link">cache_mem</a></span><span class="op">(</span>max_age <span class="op">=</span> <span class="fl">3600</span><span class="op">)</span>,</span>
<span>  jwks_pins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  jwks_pin_mode <span class="op">=</span> <span class="st">"any"</span>,</span>
<span>  jwks_host_issuer_match <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  jwks_host_allow_only <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  allowed_algs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RS256"</span>, <span class="st">"RS384"</span>, <span class="st">"RS512"</span>, <span class="st">"PS256"</span>, <span class="st">"PS384"</span>, <span class="st">"PS512"</span>, <span class="st">"ES256"</span>,</span>
<span>    <span class="st">"ES384"</span>, <span class="st">"ES512"</span>, <span class="st">"EdDSA"</span><span class="op">)</span>,</span>
<span>  allowed_token_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  leeway <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"shinyOAuth.leeway"</span>, <span class="fl">30</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>Provider name (e.g., "github", "google"). Cosmetic
only; used in logging and audit events</p></dd>


<dt id="arg-auth-url">auth_url<a class="anchor" aria-label="anchor" href="#arg-auth-url"></a></dt>
<dd><p>Authorization endpoint URL</p></dd>


<dt id="arg-token-url">token_url<a class="anchor" aria-label="anchor" href="#arg-token-url"></a></dt>
<dd><p>Token endpoint URL</p></dd>


<dt id="arg-userinfo-url">userinfo_url<a class="anchor" aria-label="anchor" href="#arg-userinfo-url"></a></dt>
<dd><p>User info endpoint URL (optional)</p></dd>


<dt id="arg-introspection-url">introspection_url<a class="anchor" aria-label="anchor" href="#arg-introspection-url"></a></dt>
<dd><p>Token introspection endpoint URL (optional; RFC 7662)</p></dd>


<dt id="arg-issuer">issuer<a class="anchor" aria-label="anchor" href="#arg-issuer"></a></dt>
<dd><p>OIDC issuer URL (optional; required for ID token validation).
This is the base URL that identifies the OpenID Provider (OP). It is used
during ID token validation to verify the <code>iss</code> claim in the ID
token matches the expected issuer. It is also used to fetch the provider's
JSON Web Key Set (JWKS) for verifying ID token signatures (typically via
the OIDC discovery document located at <code>/.well-known/openid-configuration</code>
relative to the issuer URL)</p></dd>


<dt id="arg-use-nonce">use_nonce<a class="anchor" aria-label="anchor" href="#arg-use-nonce"></a></dt>
<dd><p>Whether to use OIDC nonce. This adds a <code>nonce</code> parameter to
the authorization request and validates the <code>nonce</code> claim in the ID token.
This is recommended for OIDC flows to mitigate replay attacks</p></dd>


<dt id="arg-use-pkce">use_pkce<a class="anchor" aria-label="anchor" href="#arg-use-pkce"></a></dt>
<dd><p>Whether to use PKCE. This adds a <code>code_challenge</code> parameter to
the authorization request and requires a <code>code_verifier</code> when exchanging
the authorization code for tokens. This is prevents authorization code
interception attacks</p></dd>


<dt id="arg-pkce-method">pkce_method<a class="anchor" aria-label="anchor" href="#arg-pkce-method"></a></dt>
<dd><p>PKCE code challenge method ("S256" or "plain"). "S256" is
recommended. "plain" should only be used for non-compliant providers that
do not support "S256"</p></dd>


<dt id="arg-userinfo-required">userinfo_required<a class="anchor" aria-label="anchor" href="#arg-userinfo-required"></a></dt>
<dd><p>Whether to fetch userinfo after token exchange.
User information will be stored in the <code>userinfo</code> field of the returned
<code>OAuthToken</code> object. This requires a valid <code>userinfo_url</code> to be set.
If fetching the userinfo fails, the token exchange will fail.</p>
<p>For the low-level constructor <code><a href="oauth_provider.html">oauth_provider()</a></code>, when not explicitly
supplied, this is inferred from the presence of a non-empty <code>userinfo_url</code>:
if a <code>userinfo_url</code> is provided, <code>userinfo_required</code> defaults to <code>TRUE</code>,
otherwise it defaults to <code>FALSE</code>. This avoids unexpected validation errors
when <code>userinfo_url</code> is omitted (since it is optional).</p></dd>


<dt id="arg-userinfo-id-selector">userinfo_id_selector<a class="anchor" aria-label="anchor" href="#arg-userinfo-id-selector"></a></dt>
<dd><p>A function that extracts the user ID from the userinfo response.#'
Should take a single argument (the userinfo list) and return the user ID
as a string.</p>
<p>This is used when <code>userinfo_id_token_match</code> is TRUE.
Optional otherwise; when not supplied, some features (like subject matching)
will be unavailable. Helper constructors like <code><a href="oauth_provider.html">oauth_provider()</a></code> and <code><a href="oauth_provider_oidc.html">oauth_provider_oidc()</a></code>
provide a default selector that extracts the <code>sub</code> field.</p></dd>


<dt id="arg-userinfo-id-token-match">userinfo_id_token_match<a class="anchor" aria-label="anchor" href="#arg-userinfo-id-token-match"></a></dt>
<dd><p>Whether to verify that the user ID ("sub") from the ID token
matches the user ID extracted from the userinfo response. This requires both
<code>userinfo_required</code> and <code>id_token_validation</code> to be TRUE (and thus a valid <code>userinfo_url</code>
and <code>issuer</code> to be set, plus potentially setting the client's scope to include "openid",
so that an ID token is returned). Furthermore, the provider's <code>userinfo_id_selector</code> must be configured
to extract the user ID from the userinfo response. This check helps ensure
the integrity of the user information by confirming that both sources agree on the user's identity.</p>
<p>For <code><a href="oauth_provider.html">oauth_provider()</a></code>, when not explicitly supplied, this is inferred as
<code>TRUE</code> only if both <code>userinfo_required</code> and <code>id_token_validation</code> are <code>TRUE</code>;
otherwise it defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-id-token-required">id_token_required<a class="anchor" aria-label="anchor" href="#arg-id-token-required"></a></dt>
<dd><p>Whether to require an ID token to be returned
during token exchange. If no ID token is returned, the token exchange
will fail. This requires the provider to be a valid OpenID Connect
provider and may require setting the client's scope to include "openid".</p>
<p>Note: At the S7 class level, this defaults to FALSE so that pure OAuth 2.0
providers can be configured without OIDC. Helper constructors like
<code><a href="oauth_provider.html">oauth_provider()</a></code> and <code><a href="oauth_provider_oidc.html">oauth_provider_oidc()</a></code> will enable this when an
issuer is supplied or OIDC is explicitly requested.</p></dd>


<dt id="arg-id-token-validation">id_token_validation<a class="anchor" aria-label="anchor" href="#arg-id-token-validation"></a></dt>
<dd><p>Whether to perform ID token validation after token exchange.
This requires the provider to be a valid OpenID Connect provider with a configured
<code>issuer</code> and the token response to include an ID token (may require setting
the client's scope to include "openid").</p>
<p>Note: At the S7 class level, this defaults to FALSE. Helper constructors like
<code><a href="oauth_provider.html">oauth_provider()</a></code> and <code><a href="oauth_provider_oidc.html">oauth_provider_oidc()</a></code> turn this on when an issuer
is provided or when OIDC is used.</p></dd>


<dt id="arg-extra-auth-params">extra_auth_params<a class="anchor" aria-label="anchor" href="#arg-extra-auth-params"></a></dt>
<dd><p>Extra parameters for authorization URL</p></dd>


<dt id="arg-extra-token-params">extra_token_params<a class="anchor" aria-label="anchor" href="#arg-extra-token-params"></a></dt>
<dd><p>Extra parameters for token exchange</p></dd>


<dt id="arg-extra-token-headers">extra_token_headers<a class="anchor" aria-label="anchor" href="#arg-extra-token-headers"></a></dt>
<dd><p>Extra headers for token exchange requests (named character vector)</p></dd>


<dt id="arg-token-auth-style">token_auth_style<a class="anchor" aria-label="anchor" href="#arg-token-auth-style"></a></dt>
<dd><p>How to authenticate when exchanging tokens. One of:</p><ul><li><p>"header": HTTP Basic (client_secret_basic)</p></li>
<li><p>"body": Form body (client_secret_post)</p></li>
<li><p>"client_secret_jwt": JWT client assertion signed with HMAC using client_secret
(RFC 7523)</p></li>
<li><p>"private_key_jwt": JWT client assertion signed with an asymmetric key
(RFC 7523)</p></li>
</ul></dd>


<dt id="arg-jwks-cache">jwks_cache<a class="anchor" aria-label="anchor" href="#arg-jwks-cache"></a></dt>
<dd><p>JWKS cache backend. If not provided, a <code>cachem::cache_mem(max_age = 3600)</code>
(1 hour) cache will be created. May be any cachem‑compatible backend, including
<code><a href="https://cachem.r-lib.org/reference/cache_disk.html" class="external-link">cachem::cache_disk()</a></code> for a filesystem cache shared across workers, or a custom
implementation created via <code><a href="custom_cache.html">custom_cache()</a></code> (e.g., database/Redis backed).</p>
<p>TTL guidance: Choose <code>max_age</code> in line with your identity platform’s JWKS rotation
and cache‑control cadence. A range of 15 minutes to 2 hours is typically sensible;
the default is 1 hour. Shorter TTLs adopt new keys faster at the cost of more JWKS
traffic; longer TTLs reduce traffic but may delay new keys slightly. Signature
verification will automatically perform a one‑time JWKS refresh when a new <code>kid</code>
appears in an ID token.</p>
<p>Cache keys are internal, hashed by issuer and pinning configuration. Cache values are
lists with elements <code>jwks</code> and <code>fetched_at</code> (numeric epoch seconds)</p></dd>


<dt id="arg-jwks-pins">jwks_pins<a class="anchor" aria-label="anchor" href="#arg-jwks-pins"></a></dt>
<dd><p>Optional character vector of RFC 7638 JWK thumbprints
(base64url) to pin against. If non-empty, fetched JWKS must contain keys
whose thumbprints match these values depending on <code>jwks_pin_mode</code>.
Use to reduce key substitution risks by pre-authorizing expected keys</p></dd>


<dt id="arg-jwks-pin-mode">jwks_pin_mode<a class="anchor" aria-label="anchor" href="#arg-jwks-pin-mode"></a></dt>
<dd><p>Pinning policy when <code>jwks_pins</code> is provided. Either
"any" (default; at least one key in JWKS must match) or "all" (every
RSA/EC public key in JWKS must match one of the configured pins)</p></dd>


<dt id="arg-jwks-host-issuer-match">jwks_host_issuer_match<a class="anchor" aria-label="anchor" href="#arg-jwks-host-issuer-match"></a></dt>
<dd><p>When TRUE, enforce that the discovery <code>jwks_uri</code> host
matches the issuer host (or a subdomain). Defaults to FALSE at the class
level, but helper constructors for OIDC (e.g., <code><a href="oauth_provider_oidc.html">oauth_provider_oidc()</a></code> and
<code><a href="oauth_provider_oidc_discover.html">oauth_provider_oidc_discover()</a></code>) enable this by default for safer config.
The generic helper <code><a href="oauth_provider.html">oauth_provider()</a></code> will also automatically set this to
TRUE when an <code>issuer</code> is provided and either <code>id_token_validation</code> or
<code>id_token_required</code> is TRUE (OIDC-like configuration). Set explicitly to
FALSE to opt out. For providers that legitimately publish JWKS on a
different host (e.g., Google), prefer setting <code>jwks_host_allow_only</code> to
the exact hostname rather than disabling this check</p></dd>


<dt id="arg-jwks-host-allow-only">jwks_host_allow_only<a class="anchor" aria-label="anchor" href="#arg-jwks-host-allow-only"></a></dt>
<dd><p>Optional explicit hostname that the jwks_uri must match.
When provided, jwks_uri host must equal this value (exact match). You can
pass either just the host (e.g., "www.googleapis.com") or a full URL; only
the host component will be used. Takes precedence over <code>jwks_host_issuer_match</code></p></dd>


<dt id="arg-allowed-algs">allowed_algs<a class="anchor" aria-label="anchor" href="#arg-allowed-algs"></a></dt>
<dd><p>Optional vector of allowed JWT algorithms for ID tokens.
Use to restrict acceptable <code>alg</code> values on a per-provider basis. Supported
asymmetric algorithms include <code>RS256</code>, <code>RS384</code>, <code>RS512</code>, <code>PS256</code>, <code>PS384</code>,
<code>PS512</code>, <code>ES256</code>, <code>ES384</code>, <code>ES512</code>, and <code>EdDSA</code> (Ed25519/Ed448 via OKP).
Symmetric HMAC algorithms <code>HS256</code>, <code>HS384</code>, <code>HS512</code> are also supported but
require that you supply a <code>client_secret</code> and explicitly enable HMAC
verification via the option <code>options(shinyOAuth.allow_hs = TRUE)</code>.
Defaults to <code>c("RS256","RS384","RS512","PS256","PS384","PS512", "ES256","ES384","ES512","EdDSA")</code>, which intentionally excludes HS*.
Only include <code>HS*</code> if you are certain the <code>client_secret</code> is stored strictly
server-side and is never shipped to, or derivable by, the browser or other
untrusted environments. Prefer rotating secrets regularly when enabling this.</p></dd>


<dt id="arg-allowed-token-types">allowed_token_types<a class="anchor" aria-label="anchor" href="#arg-allowed-token-types"></a></dt>
<dd><p>Character vector of acceptable OAuth token types
returned by the token endpoint (case-insensitive). When non-empty, the
token response MUST include <code>token_type</code> and it must be one of the allowed
values; otherwise the flow fails fast with a <code>shinyOAuth_token_error</code>.
When empty, no check is performed and <code>token_type</code> may be omitted by the
provider. Helper constructors default this more strictly: for
<code><a href="oauth_provider.html">oauth_provider()</a></code> when an <code>issuer</code> is supplied or OIDC flags are enabled,
<code>allowed_token_types</code> defaults to <code>c("Bearer")</code> to enforce Bearer by
default; otherwise it remains empty. You can override to widen or disable
enforcement by setting it explicitly</p></dd>


<dt id="arg-leeway">leeway<a class="anchor" aria-label="anchor" href="#arg-leeway"></a></dt>
<dd><p>Clock skew leeway (seconds) applied to ID token <code>exp</code>/<code>iat</code> checks.
Default 30. Can be globally overridden via option <code>shinyOAuth.leeway</code></p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Configure generic OAuth 2.0 provider (no OIDC)</span></span></span>
<span class="r-in"><span><span class="va">generic_provider</span> <span class="op">&lt;-</span> <span class="fu"><a href="oauth_provider.html">oauth_provider</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"example"</span>,</span></span>
<span class="r-in"><span>  auth_url <span class="op">=</span> <span class="st">"https://example.com/oauth/authorize"</span>,</span></span>
<span class="r-in"><span>  token_url <span class="op">=</span> <span class="st">"https://example.com/oauth/token"</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Optional; S</span></span></span>
<span class="r-in"><span>  userinfo_url <span class="op">=</span> <span class="st">"https://example.com/oauth/userinfo"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Configure generic OIDC provider manually</span></span></span>
<span class="r-in"><span><span class="co"># (This defaults to using nonce &amp; ID token validation)</span></span></span>
<span class="r-in"><span><span class="va">generic_oidc_provider</span> <span class="op">&lt;-</span> <span class="fu"><a href="oauth_provider_oidc.html">oauth_provider_oidc</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"My OIDC"</span>,</span></span>
<span class="r-in"><span>  base_url <span class="op">=</span> <span class="st">"https://my-issuer.example.com"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>[<span style="color: #0000BB;">shinyOAuth</span>] - <span style="font-weight: bold;">Configure allowed hosts for production</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> No host allowlist configured via `options(shinyOAuth.allowed_hosts =</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   c(".example.com", "api.example.com"))`.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Restricting hosts hardens redirect and API endpoint validation.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> See `?is_ok_host` for policy details and review the 'authentication-flow'</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   vignette</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">This warning is displayed once per session.</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Configure OIDC provider via OIDC discovery</span></span></span>
<span class="r-in"><span><span class="co"># (example requires network access; is therefore not run)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">oidc_discovery_provider</span> <span class="op">&lt;-</span> <span class="fu"><a href="oauth_provider_oidc_discover.html">oauth_provider_oidc_discover</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  issuer <span class="op">=</span> <span class="st">"https://accounts.google.com"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># GitHub preconfigured provider </span></span></span>
<span class="r-in"><span><span class="va">github_provider</span> <span class="op">&lt;-</span> <span class="fu"><a href="oauth_provider_github.html">oauth_provider_github</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Google preconfigured provider</span></span></span>
<span class="r-in"><span><span class="va">google_provider</span> <span class="op">&lt;-</span> <span class="fu"><a href="oauth_provider_google.html">oauth_provider_google</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Microsoft preconfigured provider</span></span></span>
<span class="r-in"><span><span class="co"># See `?oauth_provider_microsoft` for example using a custom tenant ID</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Spotify preconfigured provider </span></span></span>
<span class="r-in"><span><span class="va">spotify_provider</span> <span class="op">&lt;-</span> <span class="fu"><a href="oauth_provider_spotify.html">oauth_provider_spotify</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Other providers</span></span></span>
<span class="r-in"><span><span class="co"># (all requiring network access; example is therefore not run)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Slack via OIDC discovery</span></span></span>
<span class="r-in"><span><span class="va">slack_provider</span> <span class="op">&lt;-</span> <span class="fu"><a href="oauth_provider_slack.html">oauth_provider_slack</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Keycloak</span></span></span>
<span class="r-in"><span><span class="co"># (requires configured Keycloak realm)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="oauth_provider_keycloak.html">oauth_provider_keycloak</a></span><span class="op">(</span>base_url <span class="op">=</span> <span class="st">"http://localhost:8080"</span>, realm <span class="op">=</span> <span class="st">"myrealm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Auth0</span></span></span>
<span class="r-in"><span><span class="co"># (requires configured Auth0 domain)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="oauth_provider_auth0.html">oauth_provider_auth0</a></span><span class="op">(</span>domain <span class="op">=</span> <span class="st">"your-tenant.auth0.com"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Okta</span></span></span>
<span class="r-in"><span><span class="co"># (requires configured Okta domain)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="oauth_provider_okta.html">oauth_provider_okta</a></span><span class="op">(</span>domain <span class="op">=</span> <span class="st">"dev-123456.okta.com"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Luka Koning.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

