<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Provider-Agnostic OAuth Authentication for Shiny Applications • shinyOAuth</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Provider-Agnostic OAuth Authentication for Shiny Applications">
<meta name="description" content="Provides a simple, configurable, provider-agnostic OAuth 2.0 and OpenID Connect (OIDC) authentication framework for shiny applications using S7 classes. Defines providers, clients, and tokens, as well as various supporting functions and a shiny module. Features include Cross Site Request Forgery (CSRF) protection, Proof Key for Code Exchange (PKCE) handling, validation of OIDC identity tokens (nonces, signatures, claims), automatic user info retrieval, asynchronous flows, and hooks for audit logging.">
<meta property="og:description" content="Provides a simple, configurable, provider-agnostic OAuth 2.0 and OpenID Connect (OIDC) authentication framework for shiny applications using S7 classes. Defines providers, clients, and tokens, as well as various supporting functions and a shiny module. Features include Cross Site Request Forgery (CSRF) protection, Proof Key for Code Exchange (PKCE) handling, validation of OIDC identity tokens (nonces, signatures, claims), automatic user info retrieval, asynchronous flows, and hooks for audit logging.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">shinyOAuth</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/audit-logging.html">Audit logging and hooks</a></li>
    <li><a class="dropdown-item" href="articles/authentication-flow.html">Authentication flow</a></li>
    <li><a class="dropdown-item" href="articles/example-spotify.html">Example: Spotify login to display listening data</a></li>
    <li><a class="dropdown-item" href="articles/usage.html">Usage</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lukakoning/shinyOAuth/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="shinyoauth">shinyOAuth<a class="anchor" aria-label="anchor" href="#shinyoauth"></a>
</h1></div>
<!-- badges: start -->

<p>‘<a href="https://lukakoning.github.io/shinyOAuth/">shinyOAuth</a>’ is an R package implementing provider‑agnostic OAuth 2.0 and OpenID Connect (OIDC) authorization and authentication for <a href="https://github.com/rstudio/shiny" class="external-link">Shiny</a> apps. It is built with modern S7 classes and security in mind.</p>
<p>OAuth 2.0/OIDC lets users sign in to your app using accounts they already have (e.g., Google, Microsoft, GitHub, and many more), or via your self-hosted identity provider (e.g., Keycloak), or via an identity-as-a-service provider (e.g., Auth0, Okta).</p>
<p>To achieve this, your app redirects unauthenticated users to the identity provider, they authenticate there, and are redirected back to your app with an authorization code. Your app exchanges this code for tokens which prove the user’s identity, and optionally allow your app to call the provider’s APIs on the user’s behalf (e.g., to fetch data associated with the user’s account).</p>
<p>This package streamlines this flow for Shiny applications, enabling developers to add OAuth 2.0/OIDC authorization/authentication to their apps with minimal code. The provided Shiny module handles redirecting unauthenticated users, managing state/PKCE/nonce for secure code-token exchange, verifying OIDC tokens, automatically fetching user info and performing token refresh, using asynchronous execution, and more. The package is highly configurable and works with various OAuth 2.0/OIDC providers and protocol features.</p>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li><p>Shiny module: <code><a href="reference/oauth_module_server.html">oauth_module_server()</a></code> gives you a ready‑to‑use OAuth authentication flow with secure defaults. Easily read authentication status, token details, &amp; user info as reactive values in your Shiny server logic</p></li>
<li><p>S7 classes: <code>OAuthProvider</code>, <code>OAuthClient</code>, <code>OAuthToken</code>, for a structured representation of key elements of the OAuth 2.0/OIDC flow</p></li>
<li><p>Functions: <code><a href="reference/prepare_call.html">prepare_call()</a></code>, <code><a href="reference/handle_callback.html">handle_callback()</a></code>, <code><a href="reference/introspect_token.html">introspect_token()</a></code>, <code><a href="reference/refresh_token.html">refresh_token()</a></code>, and more, should you wish to manually implement parts of the OAuth 2.0/OIDC flow</p></li>
<li><p>Provider helpers: you can configure your own OAuth 2.0/OIDC providers, but the package also includes an <code><a href="reference/oauth_provider_oidc_discover.html">oauth_provider_oidc_discover()</a></code> function for quick OIDC setup, and contains built-in configurations for popular providers (e.g., GitHub, Google, Microsoft, Keycloak, Auth0).</p></li>
<li><p>Security best practices: AES-GCM–sealed state payloads (AEAD), server-side state validation coupled with local cookie verification, HTTPS enforcement, PKCE (S256), ID token signature/claims validation (including nonce), userinfo subject match, and more (see <code><a href="articles/authentication-flow.html">vignette("authentication-flow", package = "shinyOAuth")</a></code> (<a href="https://lukakoning.github.io/shinyOAuth/articles/authentication-flow.html">link</a>) for more details)</p></li>
<li><p>Provides hooks for auditing &amp; logging key events, like login successes or failures (see <code><a href="articles/audit-logging.html">vignette("audit-logging", package = "shinyOAuth")</a></code> (<a href="https://lukakoning.github.io/shinyOAuth/articles/audit-logging.html">link</a>) for more details)</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the development version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"lukakoning/shinyOAuth"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>For complete usage documentation (i.e., making a manual login button, making authenticated API calls, setting various options, and a security checklist) see: <code><a href="articles/usage.html">vignette("usage", package = "shinyOAuth")</a></code> (<a href="https://lukakoning.github.io/shinyOAuth/articles/usage.html">link</a>).</p>
<div class="section level3">
<h3 id="minimal-example">Minimal example<a class="anchor" aria-label="anchor" href="#minimal-example"></a>
</h3>
<p>Below is a minimal example using a GitHub OAuth 2.0 app. If you want to try this example yourself, you can register an app at your <a href="https://github.com/settings/developers" class="external-link">GitHub Developer Settings</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lukakoning/shinyOAuth" class="external-link">shinyOAuth</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># GitHub OAuth provider has been preconfigured in the package</span></span>
<span><span class="co">#  - You can quickly configure OIDC providers with `oauth_provider_oidc_discover()`</span></span>
<span><span class="co">#  - You can manually configure every other provider with `oauth_provider()`</span></span>
<span><span class="va">provider</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oauth_provider_github.html">oauth_provider_github</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build client using your app's ID, secret, &amp; redirect URI:</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oauth_client.html">oauth_client</a></span><span class="op">(</span></span>
<span>  provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  client_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GITHUB_OAUTH_CLIENT_ID"</span><span class="op">)</span>,</span>
<span>  client_secret <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GITHUB_OAUTH_CLIENT_SECRET"</span><span class="op">)</span>,</span>
<span>  redirect_uri <span class="op">=</span> <span class="st">"http://127.0.0.1:8100"</span>,</span>
<span>  scopes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"read:user"</span>, <span class="st">"user:email"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Simple UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="co"># Include JavaScript dependency:</span></span>
<span>  <span class="fu"><a href="reference/use_shinyOAuth.html">use_shinyOAuth</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="co"># Show login information:</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html" class="external-link">uiOutput</a></span><span class="op">(</span><span class="st">"login_information"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server which obtains authentication </span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Start authentication module; will automatically redirect unauthenticated users</span></span>
<span>  <span class="co">#   to the provider's login page and handle the callback</span></span>
<span>  <span class="co"># Returns reactive values with authentication status, token details, user info,</span></span>
<span>  <span class="co">#   etc.</span></span>
<span>  <span class="va">auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oauth_module_server.html">oauth_module_server</a></span><span class="op">(</span><span class="st">"auth"</span>, <span class="va">client</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Render login information:</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">login_information</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderUI.html" class="external-link">renderUI</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">auth</span><span class="op">$</span><span class="va">authenticated</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">user_info</span> <span class="op">&lt;-</span> <span class="va">auth</span><span class="op">$</span><span class="va">token</span><span class="op">@</span><span class="va">userinfo</span></span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>        <span class="va">tags</span><span class="op">$</span><span class="fu">p</span><span class="op">(</span><span class="st">"You are logged in! Your details:"</span><span class="op">)</span>,</span>
<span>        <span class="va">tags</span><span class="op">$</span><span class="fu">pre</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/capture.output.html" class="external-link">capture.output</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">user_info</span><span class="op">)</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="va">tags</span><span class="op">$</span><span class="fu">p</span><span class="op">(</span><span class="st">"You are not logged in."</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">runApp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span>, port <span class="op">=</span> <span class="fl">8100</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="loggingauditing">Logging/auditing<a class="anchor" aria-label="anchor" href="#loggingauditing"></a>
</h3>
<p>The package provides hooks for logging/auditing crucial events (e.g., callbacks issued &amp; received, login success/failures). See <code><a href="articles/audit-logging.html">vignette("audit-logging", package = "shinyOAuth")</a></code> (<a href="https://lukakoning.github.io/shinyOAuth/articles/audit-logging.html">link</a>) for details.</p>
</div>
</div>
<div class="section level2">
<h2 id="more-information">More information<a class="anchor" aria-label="anchor" href="#more-information"></a>
</h2>
<div class="section level3">
<h3 id="what-happens-during-the-authentication-flow">What happens during the authentication flow?<a class="anchor" aria-label="anchor" href="#what-happens-during-the-authentication-flow"></a>
</h3>
<p>For an in-depth step-by-step explanation of what happens during the authentication flow, see: <code><a href="articles/authentication-flow.html">vignette("authentication-flow", package = "shinyOAuth")</a></code> (<a href="https://lukakoning.github.io/shinyOAuth/articles/authentication-flow.html">link</a>).</p>
</div>
<div class="section level3">
<h3 id="what-do-i-need-to-consider-for-production-use">What do I need to consider for production use?<a class="anchor" aria-label="anchor" href="#what-do-i-need-to-consider-for-production-use"></a>
</h3>
<p>For a checklist of security considerations and best practices for production use, see: <code><a href="articles/usage.html">vignette("usage", package = "shinyOAuth")</a></code> (<a href="https://lukakoning.github.io/shinyOAuth/articles/usage.html#security-checklist">link</a>).</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/lukakoning/shinyOAuth/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/lukakoning/shinyOAuth/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing shinyOAuth</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Luka Koning <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/lukakoning/shinyOAuth/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/lukakoning/shinyOAuth/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Luka Koning.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
